!function(){function e(e,i,c){"function"==typeof m.onShare&&m.onShare(e,i,c,n(),t.title,t.image)}function n(){return"function"==typeof m.onGetShareUrl?m.onGetShareUrl():t.url}if("undefined"==typeof WeChatJSLoader){for(var t={title:"",type:"",image:"",url:"",audio:"",description:"",determiner:"",locale:"",locale:"",site_name:"",video:""},i=document.getElementsByTagName("meta"),c=0;c<i.length;c++){var o=i[c],a=o.getAttribute("property");if(a&&0==a.indexOf("og:")){var r=o.getAttribute("content");r&&(t[a.substring(3)]=r)}}if(!t.image)for(var s=document.getElementsByTagName("img"),c=0;c<s.length;c++){var o=s[c],l=window.getComputedStyle(o);if("none"===l.display&&o.getAttribute("src")){t.image=o.getAttribute("src");break}}var u="link",d="";0==t.type.indexOf("music")?(u="music",d=t.audio):0==t.type.indexOf("video")&&(u="video",d=t.video);var m={};window.WeChatJSLoader={onShare:function(e){m.onShare=e},onGetShareUrl:function(e){m.onGetShareUrl=e}};var g=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript",f.src=window.location.protocol+"//res.wx.qq.com/open/js/jweixin-1.0.0.js",f.onload=function(){wx.config({{ config|raw }}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,link:n(),imgUrl:t.image,success:function(){e("wx","timeline","success")},cancel:function(){e("wx","timeline","cancel")}}),wx.onMenuShareAppMessage({title:t.title,desc:t.description,link:n(),imgUrl:t.image,type:u,dataUrl:d,success:function(){e("wx","message","success")},cancel:function(){e("wx","message","cancel")}}),wx.onMenuShareQQ({title:t.title,desc:t.description,link:n(),imgUrl:t.image,success:function(){e("wx","qq","success")},cancel:function(){e("wx","qq","cancel")}}),wx.onMenuShareWeibo({title:t.title,desc:t.description,link:n(),imgUrl:t.image,success:function(){e("wx","weibo","success")},cancel:function(){e("wx","weibo","cancel")}}),wx.onMenuShareQZone({title:t.title,desc:t.description,link:n(),imgUrl:t.image,success:function(){e("wx","qzone","success")},cancel:function(){e("wx","qzone","cancel")}})})},g.appendChild(f)}}();